{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      userInfo: {\n        username: \"\",\n        password: \"\"\n      },\n      err: \"\"\n    };\n  },\n  methods: {\n    Login() {\n      console.log('您正在准备登陆...');\n      this.$ajax.post('getoken/', this.userInfo).then(res => {\n        console.log(res.data);\n        this.$ajax.defaults.headers.common['Authorization'] = 'Token ' + res.data.token;\n        sessionStorage.setItem('token', res.data.token);\n        this.$store.state.isLogined = true;\n        this.$router.push('manage/');\n        // console.log(this.$ajax)\n      }).catch(err => {\n        console.log(err.response.data);\n        const err_data = err.response.data;\n        const new_err = new Object();\n        for (let i = 0; i < Object.values(err_data).length; i++) {\n          new_err[Object.keys(err_data)[i]] = Object.values(err_data)[i][0];\n        }\n        console.log(new_err);\n        this.err = new_err;\n      });\n    },\n    check(type) {\n      console.log('您即将过...');\n    }\n  }\n};","map":{"version":3,"names":["name","data","userInfo","username","password","err","methods","Login","console","log","$ajax","post","then","res","defaults","headers","common","token","sessionStorage","setItem","$store","state","isLogined","$router","push","catch","response","err_data","new_err","Object","i","values","length","keys","check","type"],"sources":["src/components/Login.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-container>\r\n            <el-card style=\"margin:0px auto 0px;\">\r\n                <h2>用户名</h2>\r\n                <el-input style=\"width:200px;\" v-model=\"userInfo.username\" @blur=\"check('username')\"/>\r\n                <div class=\"warning\">\r\n                    {{err.username}}\r\n                </div>\r\n                <h2>密码</h2>\r\n                <el-input style=\"width:200px;\" type=\"password\" v-model=\"userInfo.password\"/>\r\n                <div class=\"warning\">\r\n                    {{err.password}}\r\n                    {{err.non_field_errors}}\r\n                </div>\r\n                <div style=\"margin-top:20px;\">\r\n                    <el-button @click.event=\"Login\">Login</el-button>\r\n                </div>\r\n            </el-card>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name:\"Login\",\r\n    data(){\r\n        return {\r\n            userInfo:{username:\"\",password:\"\"},\r\n            err:\"\",\r\n        }\r\n    },\r\n    methods:{\r\n        Login(){\r\n            console.log('您正在准备登陆...');\r\n            this.$ajax\r\n            .post('getoken/',this.userInfo)\r\n            .then(res=>{\r\n                console.log(res.data)\r\n                this.$ajax.defaults.headers.common['Authorization']='Token ' + res.data.token\r\n                sessionStorage.setItem('token',res.data.token)\r\n                this.$store.state.isLogined=true;\r\n                this.$router.push('manage/')\r\n                // console.log(this.$ajax)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err.response.data);\r\n                const err_data=err.response.data\r\n                const new_err=new Object();\r\n                for(let i=0;i<Object.values(err_data).length;i++){\r\n                    new_err[Object.keys(err_data)[i]]=Object.values(err_data)[i][0];\r\n                }\r\n                console.log(new_err)\r\n                this.err=new_err;\r\n            });\r\n        },\r\n        check(type){\r\n            console.log('您即将过...')\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"css\">\r\n    \r\n</style>"],"mappings":";AAuBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;QAAAC,QAAA;QAAAC,QAAA;MAAA;MACAC,GAAA;IACA;EACA;EACAC,OAAA;IACAC,MAAA;MACAC,OAAA,CAAAC,GAAA;MACA,KAAAC,KAAA,CACAC,IAAA,kBAAAT,QAAA,EACAU,IAAA,CAAAC,GAAA;QACAL,OAAA,CAAAC,GAAA,CAAAI,GAAA,CAAAZ,IAAA;QACA,KAAAS,KAAA,CAAAI,QAAA,CAAAC,OAAA,CAAAC,MAAA,+BAAAH,GAAA,CAAAZ,IAAA,CAAAgB,KAAA;QACAC,cAAA,CAAAC,OAAA,UAAAN,GAAA,CAAAZ,IAAA,CAAAgB,KAAA;QACA,KAAAG,MAAA,CAAAC,KAAA,CAAAC,SAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA,GACAC,KAAA,CAAApB,GAAA;QACAG,OAAA,CAAAC,GAAA,CAAAJ,GAAA,CAAAqB,QAAA,CAAAzB,IAAA;QACA,MAAA0B,QAAA,GAAAtB,GAAA,CAAAqB,QAAA,CAAAzB,IAAA;QACA,MAAA2B,OAAA,OAAAC,MAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAD,MAAA,CAAAE,MAAA,CAAAJ,QAAA,EAAAK,MAAA,EAAAF,CAAA;UACAF,OAAA,CAAAC,MAAA,CAAAI,IAAA,CAAAN,QAAA,EAAAG,CAAA,KAAAD,MAAA,CAAAE,MAAA,CAAAJ,QAAA,EAAAG,CAAA;QACA;QACAtB,OAAA,CAAAC,GAAA,CAAAmB,OAAA;QACA,KAAAvB,GAAA,GAAAuB,OAAA;MACA;IACA;IACAM,MAAAC,IAAA;MACA3B,OAAA,CAAAC,GAAA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}