{"ast":null,"code":"import axios from 'axios';\nlet token = document.cookie;\n// axios.defaults.withCredentials=true\n// AUTH_TOKEN=sessionStorage.token\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.withCredentials = false;\naxios.interceptors.request.use(config => {\n  config.headers['X-Requested-With'] = 'XMLHttpRequest';\n  config.headers['X-CSRFToken'] = cookie.parse(document.cookie).csrftoken;\n  console.log(config.headers['X-CSRFToken']);\n  //   config.headers['X-CSRFToken'] = localStorage.token;\n  return config;\n});\nconsole.log(axios.defaults);\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\nexport default {\n  name: 'Test',\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n  methods: {\n    sendInput() {\n      const datas = {\n        info: JSON.stringify(this.content)\n      };\n      axios.post('opr/', datas).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n      // console.log('test')\n    }\n  }\n};","map":{"version":3,"names":["axios","token","document","cookie","defaults","baseURL","withCredentials","interceptors","request","use","config","headers","parse","csrftoken","console","log","name","data","content","methods","sendInput","datas","info","JSON","stringify","post","then","res","catch","err"],"sources":["src/components/Test.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <br />\r\n        一段密文:<input type=\"text\" v-model=\"content\"/><br /><br />\r\n        <button @click=\"sendInput\">点击发送一个请求</button>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nlet token = document.cookie;\r\n// axios.defaults.withCredentials=true\r\n// AUTH_TOKEN=sessionStorage.token\r\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\r\naxios.defaults.withCredentials = false;\r\naxios.interceptors.request.use((config) => {\r\n  config.headers['X-Requested-With'] = 'XMLHttpRequest';\r\n  config.headers['X-CSRFToken'] = cookie.parse(document.cookie).csrftoken;\r\n  console.log(config.headers['X-CSRFToken'])\r\n//   config.headers['X-CSRFToken'] = localStorage.token;\r\n  return config\r\n});\r\nconsole.log(axios.defaults)\r\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\r\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\nexport default {\r\n    name:'Test',\r\n    data(){\r\n        return {\r\n            content:\"\",\r\n        }\r\n    },\r\n    methods:{\r\n        sendInput(){\r\n            const datas={\r\n                info:JSON.stringify(this.content),\r\n            }\r\n            axios\r\n            .post('opr/',datas)\r\n            .then(res=>{\r\n                console.log(res)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n            // console.log('test')\r\n\r\n        }\r\n    },\r\n}\r\n</script>\r\n<style lang=\"css\">\r\n    \r\n</style>"],"mappings":"AAQA,OAAAA,KAAA;AACA,IAAAC,KAAA,GAAAC,QAAA,CAAAC,MAAA;AACA;AACA;AACAH,KAAA,CAAAI,QAAA,CAAAC,OAAA;AACAL,KAAA,CAAAI,QAAA,CAAAE,eAAA;AACAN,KAAA,CAAAO,YAAA,CAAAC,OAAA,CAAAC,GAAA,CAAAC,MAAA;EACAA,MAAA,CAAAC,OAAA;EACAD,MAAA,CAAAC,OAAA,kBAAAR,MAAA,CAAAS,KAAA,CAAAV,QAAA,CAAAC,MAAA,EAAAU,SAAA;EACAC,OAAA,CAAAC,GAAA,CAAAL,MAAA,CAAAC,OAAA;EACA;EACA,OAAAD,MAAA;AACA;AACAI,OAAA,CAAAC,GAAA,CAAAf,KAAA,CAAAI,QAAA;AACA;AACA;AACA;EACAY,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,UAAA;MACA,MAAAC,KAAA;QACAC,IAAA,EAAAC,IAAA,CAAAC,SAAA,MAAAN,OAAA;MACA;MACAlB,KAAA,CACAyB,IAAA,SAAAJ,KAAA,EACAK,IAAA,CAAAC,GAAA;QACAb,OAAA,CAAAC,GAAA,CAAAY,GAAA;MACA,GACAC,KAAA,CAAAC,GAAA;QACAf,OAAA,CAAAC,GAAA,CAAAc,GAAA;MACA;MACA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}