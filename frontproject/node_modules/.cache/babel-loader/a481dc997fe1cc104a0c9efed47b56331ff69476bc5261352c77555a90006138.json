{"ast":null,"code":"export default {\n  name: \"Manage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      isAdm: false,\n      userlist: [],\n      formuserlist: []\n    };\n  },\n  methods: {\n    toEdit() {\n      if (this.username === \"Deepmiemie@gmail.com\" && this.password === \"!Liwenhan123\") {\n        this.isAdm = true;\n      }\n    },\n    async toPass(idx) {\n      console.log(idx);\n      const id = this.userlist[idx].id;\n      // 删除gptuser中的数据\n      await this.$ajax.delete(`test/gptuser/${id}`).then(res => {\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n\n      // 增加到gptformuser中\n      await this.$ajax.post('test/gptformuser/', this.userlist[idx]).then(res => {\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      await this.getData();\n    },\n    async getData() {\n      await this.$ajax.get(\"test/gptuser/\").then(res => {\n        this.userlist = res.data.data;\n      }).catch(err => {\n        console.log(err);\n      });\n      await this.$ajax.get(\"test/gptformuser/\").then(res => {\n        this.formuserlist = res.data.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  },\n  beforeCreate() {\n    this.$ajax.get(\"test/gptuser/\").then(res => {\n      this.userlist = res.data.data;\n    }).catch(err => {\n      console.log(err);\n    });\n    this.$ajax.get(\"test/gptformuser/\").then(res => {\n      this.formuserlist = res.data.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n};","map":{"version":3,"names":["name","data","username","password","isAdm","userlist","formuserlist","methods","toEdit","toPass","idx","console","log","id","$ajax","delete","then","res","catch","err","post","getData","get","beforeCreate"],"sources":["src/components/Manage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h2>Superuser Name</h2>\r\n        <el-input v-model=\"username\"></el-input>\r\n        <h2>Superuser Password</h2>\r\n        <el-input v-model=\"password\"></el-input>\r\n        <el-button style=\"margin-top:20px;\" @click=\"toEdit()\">Edit</el-button>\r\n        <hr style=\"margin:50px 0px 50px 0px;\" />\r\n        <div>\r\n            <h3>Managing user requests</h3>\r\n            <el-table\r\n            :data=\"userlist\"\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n              prop=\"id\"\r\n              label=\"id\"\r\n              width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"username\"\r\n              label=\"username\"\r\n              width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"email\"\r\n              label=\"email\"\r\n              width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"country\"\r\n            label=\"country\"\r\n            width=\"180\">\r\n           </el-table-column>\r\n           <el-table-column\r\n           prop=\"phone\"\r\n           label=\"phone\"\r\n           width=\"180\">\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n          prop=\"organization\"\r\n          label=\"organization\"\r\n          width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column\r\n          prop=\"organization\"\r\n          label=\"organization\"\r\n          width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n                <el-button @click=\"toPass(scope.$index)\">pass</el-button>\r\n            </template>\r\n          </el-table-column>\r\n          </el-table>\r\n        </div>\r\n\r\n        <el-button @click=\"getData\">getdata</el-button>\r\n        <hr style=\"margin:50px 0px 50px 0px;\" />\r\n        <h3>Already approved user applications</h3>\r\n            <el-table\r\n            :data=\"formuserlist\"\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n            prop=\"id\"\r\n            label=\"id\"\r\n            width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"username\"\r\n            label=\"username\"\r\n            width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"email\"\r\n            label=\"email\"\r\n            width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"country\"\r\n            label=\"country\"\r\n            width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"phone\"\r\n            label=\"phone\"\r\n            width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"organization\"\r\n            label=\"organization\"\r\n            width=\"180\">\r\n            </el-table-column>\r\n            </el-table>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name:\"Manage\",\r\n    data(){\r\n        return {\r\n            username :\"\",\r\n            password :\"\",\r\n            isAdm :false,\r\n            userlist :[],\r\n            formuserlist:[],\r\n        }\r\n    },\r\n    methods: {\r\n        toEdit(){\r\n            if(this.username === \"Deepmiemie@gmail.com\" && this.password === \"!Liwenhan123\"){\r\n                this.isAdm = true;\r\n            }\r\n        },\r\n        async toPass(idx){\r\n            console.log(idx);\r\n            const id = this.userlist[idx].id;\r\n            // 删除gptuser中的数据\r\n            await this.$ajax\r\n            .delete(`test/gptuser/${id}`)\r\n            .then(res=>{\r\n                console.log(res.data)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n\r\n            // 增加到gptformuser中\r\n            await this.$ajax\r\n            .post('test/gptformuser/',this.userlist[idx])\r\n            .then(res=>{\r\n                console.log(res.data)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n\r\n            await this.getData()\r\n        },\r\n\r\n        async getData(){\r\n            await this.$ajax\r\n            .get(\"test/gptuser/\")\r\n            .then(res=>{\r\n                this.userlist = res.data.data;\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            })\r\n\r\n            await this.$ajax\r\n            .get(\"test/gptformuser/\")\r\n            .then(res=>{\r\n                this.formuserlist = res.data.data;\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            })\r\n\r\n\r\n        }\r\n    },\r\n    beforeCreate() {\r\n        this.$ajax\r\n        .get(\"test/gptuser/\")\r\n        .then(res=>{\r\n            this.userlist = res.data.data;\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        })\r\n\r\n        this.$ajax\r\n        .get(\"test/gptformuser/\")\r\n        .then(res=>{\r\n            this.formuserlist = res.data.data;\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        })\r\n    },\r\n}\r\n</script>\r\n<style lang=\"css\">\r\n    \r\n</style>"],"mappings":"AA+FA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;MACAC,KAAA;MACAC,QAAA;MACAC,YAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,SAAAN,QAAA,oCAAAC,QAAA;QACA,KAAAC,KAAA;MACA;IACA;IACA,MAAAK,OAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA,MAAAG,EAAA,QAAAR,QAAA,CAAAK,GAAA,EAAAG,EAAA;MACA;MACA,WAAAC,KAAA,CACAC,MAAA,iBAAAF,EAAA,IACAG,IAAA,CAAAC,GAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,GAAA,CAAAhB,IAAA;MACA,GACAiB,KAAA,CAAAC,GAAA;QACAR,OAAA,CAAAC,GAAA,CAAAO,GAAA;MACA;;MAEA;MACA,WAAAL,KAAA,CACAM,IAAA,2BAAAf,QAAA,CAAAK,GAAA,GACAM,IAAA,CAAAC,GAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,GAAA,CAAAhB,IAAA;MACA,GACAiB,KAAA,CAAAC,GAAA;QACAR,OAAA,CAAAC,GAAA,CAAAO,GAAA;MACA;MAEA,WAAAE,OAAA;IACA;IAEA,MAAAA,QAAA;MACA,WAAAP,KAAA,CACAQ,GAAA,kBACAN,IAAA,CAAAC,GAAA;QACA,KAAAZ,QAAA,GAAAY,GAAA,CAAAhB,IAAA,CAAAA,IAAA;MACA,GACAiB,KAAA,CAAAC,GAAA;QACAR,OAAA,CAAAC,GAAA,CAAAO,GAAA;MACA;MAEA,WAAAL,KAAA,CACAQ,GAAA,sBACAN,IAAA,CAAAC,GAAA;QACA,KAAAX,YAAA,GAAAW,GAAA,CAAAhB,IAAA,CAAAA,IAAA;MACA,GACAiB,KAAA,CAAAC,GAAA;QACAR,OAAA,CAAAC,GAAA,CAAAO,GAAA;MACA;IAGA;EACA;EACAI,aAAA;IACA,KAAAT,KAAA,CACAQ,GAAA,kBACAN,IAAA,CAAAC,GAAA;MACA,KAAAZ,QAAA,GAAAY,GAAA,CAAAhB,IAAA,CAAAA,IAAA;IACA,GACAiB,KAAA,CAAAC,GAAA;MACAR,OAAA,CAAAC,GAAA,CAAAO,GAAA;IACA;IAEA,KAAAL,KAAA,CACAQ,GAAA,sBACAN,IAAA,CAAAC,GAAA;MACA,KAAAX,YAAA,GAAAW,GAAA,CAAAhB,IAAA,CAAAA,IAAA;IACA,GACAiB,KAAA,CAAAC,GAAA;MACAR,OAAA,CAAAC,GAAA,CAAAO,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}