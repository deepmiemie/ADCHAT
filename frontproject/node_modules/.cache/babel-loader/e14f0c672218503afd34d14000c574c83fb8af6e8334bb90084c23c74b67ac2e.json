{"ast":null,"code":"export default {\n  name: \"Mychat\",\n  data() {\n    return {\n      textcontent: \"\",\n      gptcontent: \"\",\n      isLoding: false\n    };\n  },\n  methods: {\n    async geText() {\n      console.log('您正在向chatgpt发送内容...');\n      let num = 0;\n      await this.$ajax.get(`/test/getchat?question=${this.textcontent}&isinit=true`).then(res => {\n        console.log(res.data.data);\n        this.gptcontent = res.data.data;\n      }).catch(err => {\n        console.log(err);\n      });\n      this.interval = setInterval(() => {\n        this.$ajax.get(`/test/getchat?question=${this.textcontent}&isinit='false'`).then(res => {\n          const content_son = res.data.data;\n          const time = 100 / content_son.length;\n          let num = 0;\n          this.interval_son = setInterval(() => {\n            this.gptcontent += content_son.slice(num, num + 1);\n            num++;\n            if (num == content_son.length) {\n              clearInterval(this.interval_son);\n              num = 0;\n            }\n          }, 100);\n          console.log(res.data.data);\n          if (res.data.data === \"\") {\n            clearInterval(this.interval);\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }, 1000);\n    }\n  }\n};","map":{"version":3,"names":["name","data","textcontent","gptcontent","isLoding","methods","geText","console","log","num","$ajax","get","then","res","catch","err","interval","setInterval","content_son","time","length","interval_son","slice","clearInterval"],"sources":["src/components/Mychat.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1>Mychat</h1>\r\n        <el-row>\r\n            <el-col :span=\"8\"><el-input v-model = \"textcontent\"/></el-col>\r\n            <el-col :span=\"8\" style=\"position: absolute;right: 100px\"><el-button  @click=\"geText\">点击请求</el-button></el-col>\r\n        </el-row>\r\n\r\n        <el-row>\r\n            <el-col :span=\"16\"><el-input type=\"textarea\" v-model = \"gptcontent\"/></el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name : \"Mychat\",\r\n    data(){\r\n        return {\r\n            textcontent:\"\",\r\n            gptcontent:\"\",\r\n            isLoding:false,\r\n        }\r\n    },\r\n    methods:{\r\n        async geText(){\r\n            console.log('您正在向chatgpt发送内容...');\r\n            let num = 0;\r\n            await this.$ajax\r\n            .get(`/test/getchat?question=${this.textcontent}&isinit=true`)\r\n            .then(res=>{\r\n                console.log(res.data.data);\r\n                this.gptcontent = res.data.data;\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            })\r\n            this.interval = setInterval(() => {\r\n                this.$ajax\r\n                .get(`/test/getchat?question=${this.textcontent}&isinit='false'`)\r\n                .then(res=>{\r\n                    const content_son = res.data.data;\r\n                    const time = 100 / content_son.length;\r\n                    let num = 0;\r\n                    this.interval_son = setInterval(()=>{\r\n                        this.gptcontent += content_son.slice(num,num+1);\r\n                        num ++;\r\n                        if(num == content_son.length){\r\n                            clearInterval(this.interval_son);\r\n                            num = 0\r\n                        }\r\n                    },100)\r\n                    console.log(res.data.data);\r\n                    if(res.data.data === \"\"){\r\n                        clearInterval(this.interval)\r\n                    }\r\n                })\r\n                .catch(err=>{\r\n                    console.log(err);\r\n                })\r\n            }, 1000);\r\n\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"css\">\r\n    \r\n</style>"],"mappings":"AAcA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,UAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,OAAA;MACAC,OAAA,CAAAC,GAAA;MACA,IAAAC,GAAA;MACA,WAAAC,KAAA,CACAC,GAAA,gCAAAT,WAAA,gBACAU,IAAA,CAAAC,GAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,GAAA,CAAAZ,IAAA,CAAAA,IAAA;QACA,KAAAE,UAAA,GAAAU,GAAA,CAAAZ,IAAA,CAAAA,IAAA;MACA,GACAa,KAAA,CAAAC,GAAA;QACAR,OAAA,CAAAC,GAAA,CAAAO,GAAA;MACA;MACA,KAAAC,QAAA,GAAAC,WAAA;QACA,KAAAP,KAAA,CACAC,GAAA,gCAAAT,WAAA,mBACAU,IAAA,CAAAC,GAAA;UACA,MAAAK,WAAA,GAAAL,GAAA,CAAAZ,IAAA,CAAAA,IAAA;UACA,MAAAkB,IAAA,SAAAD,WAAA,CAAAE,MAAA;UACA,IAAAX,GAAA;UACA,KAAAY,YAAA,GAAAJ,WAAA;YACA,KAAAd,UAAA,IAAAe,WAAA,CAAAI,KAAA,CAAAb,GAAA,EAAAA,GAAA;YACAA,GAAA;YACA,IAAAA,GAAA,IAAAS,WAAA,CAAAE,MAAA;cACAG,aAAA,MAAAF,YAAA;cACAZ,GAAA;YACA;UACA;UACAF,OAAA,CAAAC,GAAA,CAAAK,GAAA,CAAAZ,IAAA,CAAAA,IAAA;UACA,IAAAY,GAAA,CAAAZ,IAAA,CAAAA,IAAA;YACAsB,aAAA,MAAAP,QAAA;UACA;QACA,GACAF,KAAA,CAAAC,GAAA;UACAR,OAAA,CAAAC,GAAA,CAAAO,GAAA;QACA;MACA;IAGA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}